<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    <script type="text/javascript">
        //表现力
        //对象字面量，JSON
        var xiaoming = {
            name: '小明',
            age : 20,
            status : '单身',
            sendFlower : function(target){
                target.reciveFlower(flower,xiaoming);
            }
        };
        var xiaomei = {
            name: '小美',
            reciveFlower :function(flower,sender){
                console.log(this.name + '收到了'+ sender.name + '的' + flower.type +'花');
            },
            //监听小美的心情，好的时候再送
            listenGoodMood : function(fn){
                console.log('心情很坏，热水解决不了问题');
                setTimeout(function(){
                    //可以送花了
                    fn();
                },3000)
            }
        };
        //代理模式，接口
        //对象，具有同样的方法，就可以被调用
        var xiaohong = {
            name: '小红',
            reciveFlower: function(flower,sender){
            // console.log(sender.name);
                xiaomei.listenGoodMood(function(){
                    xiaomei.reciveFlower(flower,sender);
                })
            //     if(sender.name === '小明'){
            //        // console.log('啊，我的男神，我觉得是送我的');
            //         console.log('小明，我先把你放在心里');
            //     }else{
            //         xiaomei.reciveFlower(flower,sender);
            //     }
             }
        }
        //一切皆对象，函数是一等对象
        function Flower(type, price){
            this.type = type;
            this.price = price;
        }
        //js的prototype属性使你有能力给对象添加方法和属性
        Flower.prototype.buy = function(){
            console.log(this.type + '，请付' +this.price + '元')
        }
        var flower = new Flower('玫瑰',128);

        flower.buy();

        xiaoming.sendFlower(xiaohong);

    </script>
    </body>
</html>